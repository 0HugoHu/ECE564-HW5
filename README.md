#  ECE564 HW5 - Multi-View in SwiftUI

> **Please ignore some run-time warnings, they are from the BackgroundRemoval dependency. There's no errors or warning at the build-time.**

## Important Notice: 

- **To use the camera feature, please run the app on a real device (not simulator).**
- **For the first time running the app, the system will ask you permission for network access, even if you grant access, the download may stuck at 0% for a while, please be patient, or just restart the app.**
- **I don't let user to manually put any string for the field Program and Plan, because I want to keep the data consistent. So I use a picker for these two fields. For existing weird strings, I used some tricks to convert them into my enum types.**

## Extra Functionality

### 1.Complexity and originality of your code
- Very delicated and well-arranged (even product-level) layouts and views
- "Other" and "Unknown" sections added for list
- Random background gradient color for edit view
- Every editable fields are highlighted with red color with a pencil (a similar) icon
- Floating second-level button added for choosing download/replace or download/update
- Fixed stats view error


|![](Assets/hw5n-30.png)|![](Assets/hw5n-1.png)|![](Assets/hw5-29.png)|![](Assets/hw5-28.png)|
|![](Assets/hw5n-27.png)|![](Assets/hw5n-26.png)|![](Assets/hw5-16.png)|![](Assets/hw5-14.png)|
|![](Assets/hw5n-8.png)|![](Assets/hw5n-5.png)|![](Assets/hw5-6.png)|![](Assets/hw5-4.png)|
|![](Assets/hw5n-3.png)|![](Assets/hw5n-2.png)|![](Assets/hw5-17.png)|![](Assets/hw5-15.png)|
|![](Assets/hw5n-9.png)|![](Assets/hw5n-7.png)|![](Assets/hw5-10.png)|![](Assets/hw5-11.png)|
|![](Assets/hw5n-12.png)|![](Assets/hw5n-13.png)|![](Assets/hw5-18.png)|![](Assets/hw5-19.png)|
|![](Assets/hw5n-24.png)|![](Assets/hw5n-20.png)|![](Assets/hw5-21.png)|![](Assets/hw5-22.png)|
|![](Assets/hw5n-31.png)|![](Assets/hw5n-32.png)|![](Assets/hw5-23.png)|![](Assets/hw5-25.png)
|---|---|---|---|


### 2.Camera Support
- Take a photo and resize it into 300 x 300 (approximately less than 100K)
- If you take selfie, the image will be flipped horizontally

**Important Notice**: To use the camera feature, please run the app on a real device (not simulator), and grant permission for camera access.

 
|![](Assets/hw5n-13.png)|![](Assets/hw5n-18.png)|![](Assets/hw5n-19.png)|
|---|---|---| 

### 3.Non-TextField Input Controls
- Basic style of picker for Program and Plan (Left and Middle)
- Another style of picker for Gender and Role (Left)
- Self-designed picker for Languages and Hobbies (Right). This picker is more like a tag picker, and it supports multiple selection. The selected items will be shown in the text field.

|![](Assets/hw5n-2.png)|![](Assets/hw5n-6.png)|![](Assets/hw5n-3.png)|
|---|---|---| 

- Even more complex location picker. This picker will show a map, and user can select a location by tapping on the map. The location will be transferred into [City, State, Country] format shown in the text field.

**Important Notice**: The Apple built-in lib converts the coordinates into place names using your phone's locale. So if you want to see the result in English, please set your phone's locale to English. Otherwise, the result will be in your phone's locale language.


|![](Assets/hw5n-16.png)|![](Assets/hw5n-8.png)|![](Assets/hw5n-5.png)|
|---|---|---| 

<br />

## Code Reference

#### 1.Some parts of the code are generated by ChatGPT and Copilot plugin for Xcode

Code cooperated with AI includes:
- Camera support
- Complex view binding
- Convert location coords into [City, State, Country] string


#### 2. BackgroundRemoval

Discussed in previous projects

#### 3. [LocationPicker](https://github.com/alessiorubicini/LocationPickerForSwiftUI)

A library used support map view for location pick up


#### 4. Apple Documentation

- Styles of picker
- [MapKit](https://developer.apple.com/documentation/corelocation/clgeocoder/2890753-geocodeaddressstring)

<br />

## Previous Project Usage

### Main Page Help

```text
-- Initial Upload --
Upload your data to the server from the build-in JSON file

-- Updated Upload --
Update your remote profile with your local changes

-- Download Replace --
Clear your local data model, and fetch the entire records from the server

-- Download Update --
Merge your local data model with remote data

-- Replace One Only --
Replace your local specific one's profile with remote one

-- Load from Disk --
Discard all data in memory, and sysnc with local sandbox's data

-- Delete Myself --
Delete your profile from the server
```

### Input Instruction

```text
--------------------------------------- Help ---------------------------------------
Format:
fn=first_name, ln=last_name, em=email,
ro=role, ge=gender, fr=from
- ro must be one of: Student, TA, Professor, Staff, or will be Other
- ge must be one of: Male, Female, otherwise will be Other
- Either of these parameters must not contains ',', space, or '='
- The order of parameters does not matter

1. Add: Add a person to the database.
    DUID is required, all other parameters are optional.
2. Update: Update or add a person with given DUID.
    DUID is required, all other parameters are optional.
3. Delete: Delete a person with given DUID.
    DUID is required, all other parameters are ignored.
4. Find: Find a person with given DUID or given name.
    Either DUID or lName is required, fName is default with "*".
    Use "*" to represent any name. Not case sensitive.
5. List All: List all people in the database.
6. Help: Show this help message.

CopyRight: Yadong (Hugo) Hu, 2023
------------------------------------------------------------------------------------
```

### Test Cases

Please visit last homework's [README.md](https://gitlab.oit.duke.edu/yh342/ece564hw1/-/blob/main/README.md) for more details.


